
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>64-bit Mapscript for Python on Windows &#8212; Geographika</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/font-awesome-4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom-bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/ol.js"></script>
    <script src="../_static/twitter.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7 Reasons for ESRI not to Drop VBA" href="7-reasons-for-esri-not-to-drop-vba.html" />
    <link rel="prev" title="64 bit cURL with OpenSSL on Windows" href="64-bit-curl-with-openssl-on-windows.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Geographika</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../software.html">Sofware Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../posts/nuget.html">Creating NuGet Packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Archived Posts</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#comments">Comments</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="64-bit-curl-with-openssl-on-windows.html" title="Previous Chapter: 64 bit cURL with OpenSSL on Windows"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 64 bit cURL w...</span>
    </a>
  </li>
  <li>
    <a href="7-reasons-for-esri-not-to-drop-vba.html" title="Next Chapter: 7 Reasons for ESRI not to Drop VBA"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">7 Reasons for... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">  
    <div class="body col-md-12 content" role="main">
      
  <section id="bit-mapscript-for-python-on-windows">
<h1>64-bit Mapscript for Python on Windows</h1>
<dl class="field-list simple">
<dt class="field-odd">date</dt>
<dd class="field-odd"><p>2010-08-03 10:17</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>admin</p>
</dd>
<dt class="field-odd">category</dt>
<dd class="field-odd"><p>mapserver, python</p>
</dd>
<dt class="field-even">tags</dt>
<dd class="field-even"><p>64bit, gdal</p>
</dd>
<dt class="field-odd">slug</dt>
<dd class="field-odd"><p>64-bit-mapscript-for-python-on-windows</p>
</dd>
<dt class="field-even">status</dt>
<dd class="field-even"><p>published</p>
</dd>
</dl>
<p><a class="reference external" href="http://szekerest.blogspot.com/">Tamas Szekeres</a> maintains a site
with many different compiled versions of
<a class="reference external" href="http://mapserver.org/">MapServer</a> at <a class="reference external" href="http://vbkto.dyndns.org/sdk/">http://vbkto.dyndns.org/sdk/</a>
(the site can occasionally be overloaded or down). These are compiled
daily direct from the source. It is a veritable Aladdin’s cave of
treasures ?” especially if you are installing on a Windows Server, and
even more so if you are installing for 64bit.</p>
<p>It gets even better though! Included in the installation are the latest
SQL Server 2008 driver, 64 bit <a class="reference external" href="http://www.gdal.org/">GDAL</a>, and
<a class="reference external" href="http://mapserver.org/mapscript/index.html">MapScript</a> Python
bindings. MapScript allows MapServer functions and classes to be
scripted in a variety of languages.</p>
<p>As Python is becoming ubiquitous in the GIS world (opensource and
proprietary), if you aren’t familiar with PHP then You can download the
zip file and extract to a folder on your machine, in the example below I
used C:\ms4w64 (old habits die hard!).</p>
<section id="install-steps">
<h2>Install Steps</h2>
<p>1. Add C:\ms4w64\bin to your system PATH environment variable
(right-click on My Computer, select Properties, Advanced, Environment
Variables, then in System Variables select PATH and edit. Remember to
put a semi-colon ; between folders in the path.</p>
<p><img alt="image" src="../_images/image4.png" /></p>
<p>Adding this folder to your PATH will allow Windows to find the MapServer
and GDAL DLLs used by Mapscript.</p>
<p>2. Now we want to make the Mapscript Python module available in Python.
There are a couple of options here. I took the files from
<strong>C:\ms4w64\bin\ms\python</strong> and copied them into
<strong>C:\Python26\Lib\site-packages ?”</strong> the default search location for
third party Python modules. The files to copy across are:</p>
<ul class="simple">
<li><p>_mapscript.pyd</p></li>
<li><p>mapscript.py</p></li>
<li><p>A mapscript.pyc (compiled Python) file will be generated on first use</p></li>
</ul>
<p>Alternatively you can add the <strong>C:\ms4w64\bin\ms\python</strong> folder to
the PYTHONPATH Window’s environment variable as in step 1.</p>
<p><strong>Important!</strong> You will need to log off, or restart your PC in order for
the environment variables to be “refreshed” by the operating system.</p>
<p>Either way you should now be able to type “import mapscript” in IDLE
without receiving errors.</p>
<p><img alt="image" src="../_images/image4.png" /></p>
</section>
<section id="errors">
<h2>Errors?</h2>
<div class="line-block">
<div class="line">[python]Traceback (most recent call last):</div>
<div class="line-block">
<div class="line">File “&lt;pyshell#0&gt;”, line 1, in &lt;module&gt;</div>
<div class="line">import mapscript</div>
<div class="line">ImportError: No module named mapscript[/python]</div>
</div>
</div>
<p>Python can’t find the Mapscript module. Try typing the following
commands into Idle to see the folders that Python checks looking for
modules:</p>
<div class="line-block">
<div class="line">[python]import sys</div>
<div class="line-block">
<div class="line">print sys.path[/python]</div>
</div>
</div>
<p><img alt="image" src="../_images/image4.png" /></p>
<div class="line-block">
<div class="line">[python]Traceback (most recent call last):</div>
<div class="line-block">
<div class="line">File “&lt;pyshell#13&gt;”, line 1, in &lt;module&gt;</div>
<div class="line">import mapscript</div>
<div class="line">File “C:\Python25\lib\site-packages\mapscript.py”, line 28, in</div>
</div>
</div>
<p>&lt;module&gt;
|  import _mapscript
|  ImportError: DLL load failed with error code 193[/python]</p>
<p>It is likely you are using a 32 bit version of Python with 64 bit
versions of the MapServer DLLs. You may have reinstalled and
reconfigured Python so many times that you have actually forgotten what
you installed. A useful program in this case can be downloaded from
<a class="reference external" href="http://www.mitec.cz/exe.html">http://www.mitec.cz/exe.html</a></p>
<p>This tells you the processor type for a .exe file such as python.exe.
Check that it is a 64-bit version as shown below.</p>
<p><img alt="image" src="../_images/image4.png" /></p>
<dl class="field-list simple">
<dt class="field-odd">orphan</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<hr><section id="comments">
<h3>Comments</h3>
<img alt="http://www.gravatar.com/avatar/?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-514" src="http://www.gravatar.com/avatar/?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-514"><span class="std std-ref">1.</span></a> <strong>Setting up a Secure Cascading WMS on MapServer at geographika</strong>
**</p>
<p>[…] site installed in a C:ms4w64 folder. It also assumes MapServer has
been configured with SSL as detailed in another post. In this example I
use IIS and Windows Server […]</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#1@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/a6fe46b153b38f38c4aeb24ce372e041?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-574" src="http://www.gravatar.com/avatar/a6fe46b153b38f38c4aeb24ce372e041?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-574"><span class="std std-ref">2.</span></a> <strong>Mei</strong>
**</p>
<div class="line-block">
<div class="line">hi there!</div>
<div class="line-block">
<div class="line">could you please post your compiled 64 bit curl with ssl on this</div>
</div>
</div>
<p>site..?
|  really need to download it, thanks..</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#2@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/ec399a4765f732e1a2acd5ca7edd0fd5?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-582" src="http://www.gravatar.com/avatar/ec399a4765f732e1a2acd5ca7edd0fd5?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-582"><span class="std std-ref">3.</span></a> <strong>geographika</strong>
**</p>
<p>Hi - I’ve put the x64 DLL at
<a class="reference external" href="http://bitbucket.org/geographika/mapserver-scripts/src/tip/cURL/">http://bitbucket.org/geographika/mapserver-scripts/src/tip/cURL/</a></p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#3@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-849" src="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-849"><span class="std std-ref">4.</span></a> <strong>Tobias</strong>
**</p>
<div class="line-block">
<div class="line">Hi,</div>
<div class="line-block">
<div class="line">I tried your dll! It works but only for web pages with no special</div>
</div>
</div>
<p>encoding. If you have a page with curl_easy_setopt(cUrl,
CURLOPT_ENCODING, “gzip”); it only returns junk! Is zlib included /
linked? Could you please upload a dll with zlib included?</p>
<p>Thanks</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#4@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/ec399a4765f732e1a2acd5ca7edd0fd5?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-850" src="http://www.gravatar.com/avatar/ec399a4765f732e1a2acd5ca7edd0fd5?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-850"><span class="std std-ref">5.</span></a> <strong>geographika</strong>
**</p>
<p>Hi Tobias,</p>
<p>It appears there is now a compiled version of cURL with (and without)
SSL available on the download page at <a class="reference external" href="http://curl.haxx.se/download.html">http://curl.haxx.se/download.html</a></p>
<p>Maybe give this a try to see if it includes zlib. Let us know the
outcome!</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#5@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-851" src="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-851"><span class="std std-ref">6.</span></a> <strong>Tobias</strong>
**</p>
<p>Hi geographika,</p>
<p>at haxx there are only binary files for windows x64 (curl.exe) but I
need a dll for my app. I can complile a x64 lib to include in my project
and to satisfy the compiler but the dll compiled with this lib has no
sll and no zlib. So when accessing SSL or compressed pages, I only get
encypred data. For the 32bit version I only have to replace the
libcurl.dll and so I intend to do with the 64bit version, too.</p>
<p>Thanks</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#6@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-854" src="http://www.gravatar.com/avatar/4b755cf7a74e38d05963c959a1ac804c?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-854"><span class="std std-ref">7.</span></a> <strong>Tobias</strong>
**</p>
<p>Hi,</p>
<p>I made a compile with all components including zlib and libssh2. Now
everything works fine! Your tutorial helped to get the compile running!</p>
<p>Greetings!</p>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#7@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><img alt="http://www.gravatar.com/avatar/4ecc4ba60d49afcb8b7da90d23b9eb15?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-1905" src="http://www.gravatar.com/avatar/4ecc4ba60d49afcb8b7da90d23b9eb15?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="comments/64-bit-mapscript-for-python-on-windows.html#comment-1905"><span class="std std-ref">8.</span></a> <strong>thierry</strong>
**</p>
<div class="line-block">
<div class="line">Hi,</div>
<div class="line-block">
<div class="line">Could you put these x64 builds (dll, lib) somewhere I can download ?</div>
</div>
</div>
<a href="mailto:web+64-bit-curl-with-openssl-on-windows#8@geographika.co.uk?Subject=64-bit-curl-with-openssl-on-windows" target="_top">Reply</a><hr><a style="font-size: large; font-weight: bold;" href="mailto:web+64-bit-mapscript-for-python-on-windows@geographika.co.uk?Subject=64-bit-mapscript-for-python-on-windows" target="_top">Add Comment</a></section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>
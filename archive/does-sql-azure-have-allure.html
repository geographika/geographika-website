
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Does SQL Azure have Allure? &#8212; Geographika</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/font-awesome-4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom-bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/ol.js"></script>
    <script src="../_static/twitter.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FME: Setting a Raster Output Name Dynamically" href="fme-setting-a-raster-output-name-dynamically.html" />
    <link rel="prev" title="Developer Pages" href="devpages.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Geographika</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../software.html">Sofware Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../posts/nuget.html">Creating NuGet Packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Archived Posts</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#comments">Comments</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="devpages.html" title="Previous Chapter: Developer Pages"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Developer Pages</span>
    </a>
  </li>
  <li>
    <a href="fme-setting-a-raster-output-name-dynamically.html" title="Next Chapter: FME: Setting a Raster Output Name Dynamically"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">FME: Setting ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">  
    <div class="body col-md-12 content" role="main">
      
  <section id="does-sql-azure-have-allure">
<h1>Does SQL Azure have Allure?</h1>
<dl class="field-list simple">
<dt class="field-odd">date</dt>
<dd class="field-odd"><p>2010-03-26 15:10</p>
</dd>
<dt class="field-even">author</dt>
<dd class="field-even"><p>admin</p>
</dd>
<dt class="field-odd">category</dt>
<dd class="field-odd"><p>opinion, sql server 2008</p>
</dd>
<dt class="field-even">tags</dt>
<dd class="field-even"><p>azure, cloud, geodatabase, sqlserver</p>
</dd>
<dt class="field-odd">slug</dt>
<dd class="field-odd"><p>does-sql-azure-have-allure</p>
</dd>
<dt class="field-even">status</dt>
<dd class="field-even"><p>published</p>
</dd>
</dl>
<p><img alt="image" src="../_images/image43.png" /> I love SQL Server 2008 spatial functionality. Not only because
it has effectively killed off the middle-man GIS database software, but
it even sticks to <a class="reference external" href="http://www.opengeospatial.org/standards/sfa">OGC
standards</a> allowing the
same data and tables to be used in nearly all GIS software. However I
have some reservations about the use of <a class="reference external" href="http://blogs.msdn.com/edkatibah/archive/2010/03/21/spatial-data-support-coming-to-sql-azure.aspx">SQL Azure for GIS
applications</a>.</p>
<section id="faq">
<h2><a class="reference external" href="http://www.microsoft.com/windowsazure/faq/#">FAQ</a></h2>
<blockquote>
<div><p><em>How is SQL Azure Database different from working with a hoster
using SQL Server?</em></p>
<p>Developers do not have to install, setup, patch or manage any
software. High Availability and fault tolerance is built-in and no
physical administration of hardware, storage or servers is required.</p>
</div></blockquote>
<p>If you have a good hosting solution then the same benefits apply (well
maybe not the “self-healing” also mentioned). The only real difference I
can tell is that you pay a lot more, to be able to scale more easily.
Its unlikely your <a class="reference external" href="http://www.esri.com/industries/planning/index.html">Local Planning
Mapping</a> system
is suddenly going to need to scale up to meet the expectations of
millions of new users, no matter how great the system looks.</p>
<p><strong>Update</strong>: Many thanks to <a class="reference external" href="http://blogs.msdn.com/dachou/">David
Chou</a> for his clarifications on this -
see comments below. In essence a SQL Azure database uses three replicas
of your database with a layer on top that makes it appear to the
application and user as a single instance. It is this new architecture
that allows for scalability, and the self-healing (which still makes me
think of Tekken’s
<a class="reference external" href="http://thelonegamer.wordpress.com/2009/09/07/tekken-6-character-countdown-part-39-yoshimitsu/">Yoshimitsu</a>).</p>
<blockquote>
<div><p><em>Windows Azure and SQL Azure SLAs are independent of our on-premises
Microsoft licensing agreements.</em></p>
</div></blockquote>
<p>So if you do plan to continue standard “earth” development, you’ll still
be paying SQL Server licences. For most government departments and large
businesses there will always be some data that needs to be stored
locally.</p>
</section>
<section id="for-developers">
<h2>For Developers</h2>
<blockquote>
<div><p>Currently you can’t bring your existing on-premises Windows Server,
SQL Server to Windows Azure, SQL Azure.</p>
</div></blockquote>
<p>So it doesn’t seem possible to develop database applications locally and
then upload all your views, stored procedures, functions and data in one
go to Azure. It appears this only applies to the server software (see
comments) - I’d imagine Enterprise level funcitonality such as mirroring
or replication. The actual tables, stored procedures, and views will be
fine to import.</p>
<p>SQL Server Management Studio will be able to access the online
databases, but I would be interested to see how quickly a result set
from a query would be returned. Would this data be returned locally and
slowly, or would it work in a similar way to Remote Desktop by returning
images from the server?</p>
</section>
<section id="cheque-please">
<h2>Cheque Please</h2>
<p>The <a class="reference external" href="http://www.microsoft.com/windowsazure/pricing/#sql">pricing
structure</a> is as
follows:</p>
<ul class="simple">
<li><p>Web Edition: Up to 1 GB relational database = $9.99 / month</p></li>
<li><p>Business Edition: Up to 10 GB relational database = $99.99 / month</p></li>
<li><p>Data transfers = $0.10 in / $0.15 out / GB - ($0.30 in / $0.45 out /
GB in Asia)*</p></li>
</ul>
<p><img alt="image" src="../_images/image43.png" /></p>
<p>I’ve just completed a GIS project using SQL Server 2008, with around 60
different layers. The database is around 15 GB (<a class="reference external" href="http://msdn2.microsoft.com/en-us/library/ms188776(SQL.90).aspx">this stored
procedure</a>
returns disk space on a table by table basis). Uploading this data would
be cheap enough at only $1.50, but would take hours. It was far easier
to go round to the hosts with an external hard-drive, than upload from
our network.</p>
<p>Where things get scary for a GIS developer is considering the data
transfers out of a system as soon as the <a class="reference external" href="http://www.microsoft.com/sqlserver/2008/en/us/spatial-data.aspx">Microsoft spatial data
types</a>
get involved.</p>
<p>The amount amount of bytes sent over the network in SQL Server for each
query can be viewed using <a class="reference external" href="http://blog.sqlauthority.com/2009/10/01/sql-server-sql-server-management-studio-and-client-statistics/">Client
Statistics</a>.
Selecting 100 records from one of my tables resulted in 14 KB of data
transfer. Selecting 100 records and their associated polygons resulted
<strong>*in over 10 times more traffic*</strong> at 151 KB (here’s an <a class="reference external" href="http://easycalculation.com/bandwidth-calculator.php">online
calculator</a> for
bit/kilobyte conversions).</p>
<p><img alt="image" src="../_images/image43.png" /></p>
<p>Whilst I presume it is possible to set up a
<a class="reference external" href="http://en.wikipedia.org/wiki/Web_Map_Service">WMS</a> server such as
<a class="reference external" href="http://mapserver.org/">MapServer</a> in Azure, it is unclear whether
the “data out” costs apply to data that leaves <em>the cloud</em> or to <strong>any
data</strong> that leaves the database (thanks to <a class="reference external" href="http://blogs.msdn.com/edkatibah/">Ed
Katibah</a> for more details - charges
only apply to data leaving Azure sub-region (Western Europe is a
sub-region). In this second scenario it could well be game over. It is
easy to imagine spiralling costs if you wish to display a few dynamic
vector layers, and the database takes a hit on every user’s zoom or pan.</p>
</section>
<section id="its-not-all-about-the-data-base">
<h2>It’s (not) all about the Data(base)</h2>
<p>The target market for SQL Azure in GIS however may not be individual
applications, but rather business to business spatial services. Datasets
used for geolocation and navigation could be stored in one place with an
<a class="reference external" href="http://code.google.com/apis/maps/">API</a> that could then be called by
any number of web applications. These “clients” could then be charged a
premium on top of Azure’s costs for the additional services. Heavy use
of results caching would mitigate the price of data transfer.</p>
<p>Unfortunatley for Microsoft it appears once again Google already has a
big chunk of this (spatial) market wrapped up. For free, or <a class="reference external" href="http://www.google.com/enterprise/earthmaps/maps_features.html">$10,000 if
charging for your
service</a>.
Another example is James Fee’s <a class="reference external" href="http://www.weogeo.com/">WeoGeo</a>. I
presume by James’s quote about <a class="reference external" href="http://www.spatiallyadjusted.com/2010/03/22/spatial-database-in-the-cloud/">getting your ducks in a
row</a>
his is clearly a business model that could benefit from SQL Azure. Both
examples differ from the SQL Azure model of selling database services in
that they both provide <strong>*data*</strong> as part of a cloud solution.</p>
<p>There are still many unknowns on how this will develop over time, and
who will benefit from Azure. Its nice to know the spatial functionality
is out there in the cloud, but for the majority of web mapping
applications the risk of sky-high costs may keep it there. Case studies
and early-adopter’s experiences will hopefully help paint a clearer
picture. Microsoft’s main competitor could well be Microsoft. <a class="reference external" href="http://www.microsoft.com/express/database/">SQL
Server 2008 Express</a> is
free (however with a 4GB limit), and includes both spatial functionality
and Reporting Services. If you need to scale up it seems simpler to
change your licence rather than your entire mindset.</p>
<dl class="field-list simple">
<dt class="field-odd">orphan</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<hr><section id="comments">
<h3>Comments</h3>
<img alt="http://www.gravatar.com/avatar/8815aa8e5b47ca9c65c7ebdf51a6f9f1?s=55&amp;d=identicon&amp;r=g" class="align-left" id="comment-1904" src="http://www.gravatar.com/avatar/8815aa8e5b47ca9c65c7ebdf51a6f9f1?s=55&amp;d=identicon&amp;r=g" />
<p><a class="reference internal" href="#comment-1904"><span class="std std-ref">1.</span></a> <strong>David</strong>
**</p>
<p>I am using SIS to automate stuff here in Japan. My company, or rather my
division, nearly lives entirely off programming for the SIS API.</p>
<p>I only just started and find it a bit of a nightmare because the API is
really unintuitive and the documentation is minimal to say the least (I
rely on the online documentation though…). And the thing with having
to work with named lists is a big pain in the backside as you say!</p>
<p>One thing about the FindOverlayByName() function you posted above. I
have been using this method too, primarily because it was in the code I
inherited. I just realised today that this function will break if any
one of your overlays has an index greater than the number of indices…
Can you think of any way to overcome this?</p>
<a href="mailto:web+developing-with-cadcorp#1@geographika.co.uk?Subject=developing-with-cadcorp" target="_top">Reply</a><hr><a style="font-size: large; font-weight: bold;" href="mailto:web+does-sql-azure-have-allure@geographika.co.uk?Subject=does-sql-azure-have-allure" target="_top">Add Comment</a></section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022.<br/>
    </p>
  </div>
</footer>
  </body>
</html>